{% load staticfiles %}
{% load i18n %}

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8" />
    <title>GeoDjango Hands-on</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- jquery 3.3.1 -->
    <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>

    <!-- leaflet css -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
    integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin=""/>

    <!-- leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
    integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin=""></script>

    <!-- leaflet-tilelayer-geojson -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-tilelayer-geojson/1.0.4/TileLayer.GeoJSON.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
    <script src="https://unpkg.com/@babel/standalone"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.4.2/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.4.2/umd/react-dom.production.min.js"></script>
    <style>
      body {
        padding: 20px;
      }
      .leaflet-container {
        height: 800px;
        width: 80%;
        margin: 0 auto;
      }
    </style>
    <script>
        // Geolocation APIに対応している
        if (navigator.geolocation) {
          alert("この端末では位置情報が取得できます");
        // Geolocation APIに対応していない
        } else {
          alert("この端末では位置情報が取得できません");
        }
    
        // 現在地取得処理
        function getPosition() {
          // 現在地を取得
          navigator.geolocation.getCurrentPosition(
            // 取得成功した場合
            function(position) {
                alert("緯度:"+position.coords.latitude+",経度"+position.coords.longitude);
            },
            // 取得失敗した場合
            function(error) {
              switch(error.code) {
                case 1: //PERMISSION_DENIED
                  alert("位置情報の利用が許可されていません");
                  break;
                case 2: //POSITION_UNAVAILABLE
                  alert("現在位置が取得できませんでした");
                  break;
                case 3: //TIMEOUT
                  alert("タイムアウトになりました");
                  break;
                default:
                  alert("その他のエラー(エラーコード:"+error.code+")");
                  break;
              }
            }
          );
        }
    </script>
    <link rel="stylesheet" href="{% static 'world/css/app.css' %}">


</head>
<body>
    <div id="app"/>
    <script type="text/javascript" src="{% static 'world/dist/bundle.js' %}"></script>
    <button onclick="getPosition();">位置情報を取得する</button>
    <script type="text/javascript" src="bundle.js"></script></body>

    <!-- map work file  
    <script type="text/javascript" src="{% static 'world/js/app.js' %}"></script>
    <script tyoe="text/javascript" src="/home/hidenaga/geod2/geo-app/world/static/index.js"></script>-->
</body>
</html>
